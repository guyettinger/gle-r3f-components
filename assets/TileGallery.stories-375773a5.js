import{a as Me,b as me,V as C,Q as q,M as Ae,c as j,E as Zn,S as ea,d as pe,u as be,e as Re,f as sa,g as la,U as ua,h as xe,T as Oe,i as ca,s as na,j as L,C as fa}from"./react-three-fiber.esm-4fee7c38.js";import{r as u}from"./index-76fb7be0.js";import{m as aa,v as ma,_ as pa}from"./index-0332b2ed.esm-4227e939.js";import{_ as B}from"./extends-98964cd2.js";import{c as da}from"./client-e770a681.js";import"./_commonjsHelpers-de833af9.js";function fe(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function Ee(n,e){(e==null||e>n.length)&&(e=n.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=n[a];return r}function va(n,e){if(n){if(typeof n=="string")return Ee(n,e);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ee(n,e)}}function ya(n){if(Array.isArray(n))return Ee(n)}function ha(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wa(n){return ya(n)||ha(n)||va(n)||_a()}new Me;new Me;function ga(n,e,a){return Math.max(e,Math.min(a,n))}function Ma(n,e){return ga(n-Math.floor(n/e)*e,0,e)}function Aa(n,e){var a=Ma(e-n,Math.PI*2);return a>Math.PI&&(a-=Math.PI*2),a}function ra(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var I=function n(e,a,r){var t=this;ra(this,n),fe(this,"dot2",function(i,o){return t.x*i+t.y*o}),fe(this,"dot3",function(i,o,s){return t.x*i+t.y*o+t.z*s}),this.x=e,this.y=a,this.z=r},ba=[new I(1,1,0),new I(-1,1,0),new I(1,-1,0),new I(-1,-1,0),new I(1,0,1),new I(-1,0,1),new I(1,0,-1),new I(-1,0,-1),new I(0,1,1),new I(0,-1,1),new I(0,1,-1),new I(0,-1,-1)],Se=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Le=new Array(512),Ge=new Array(512),$a=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var a=0;a<256;a++){var r;a&1?r=Se[a]^e&255:r=Se[a]^e>>8&255,Le[a]=Le[a+256]=r,Ge[a]=Ge[a+256]=ba[r%12]}};$a(0);function Ca(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var a=0;a<e.length;a++)n=(n+(a+1)*(e.charCodeAt(a)%96))%2147483647}return n===0&&(n=311),n}function je(n){var e=Ca(n);return function(){var a=e*48271%2147483647;return e=a,a/2147483647}}var Ea=function n(e){var a=this;ra(this,n),fe(this,"seed",0),fe(this,"init",function(r){a.seed=r,a.value=je(r)}),fe(this,"value",je(this.seed)),this.init(e)};new Ea(Math.random());var Ia=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/a)*Math.atan(Math.sin(2*Math.PI*e*t)/a)},ta=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},ka=function(e){return e},xa={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},Oa={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},za={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},qa={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},Pa={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},Ra={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function d(n,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ta,s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-a)<=s)return n[e]=a,!1;r=Math.max(1e-4,r);var m=2/r,h=o(m*t),p=n[e]-a,w=a,E=i*r;p=Math.min(Math.max(p,-E),E),a=n[e]-p;var k=(n.__damp[l]+m*p)*t;n.__damp[l]=(n.__damp[l]-m*k)*h;var y=a+(p+k)*h;return w-n[e]>0==y>w&&(y=w,n.__damp[l]=(y-w)/t),n[e]=y,!0}var Sa=function(e){return e&&e.isCamera},La=function(e){return e&&e.isLight},K=new C,Qe=new q,Ue=new q,Z=new Ae,$e=new C;function Ga(n,e,a,r,t,i,o){typeof e=="number"?K.setScalar(e):Array.isArray(e)?K.set(e[0],e[1],e[2]):K.copy(e);var s=n.parent;n.updateWorldMatrix(!0,!1),$e.setFromMatrixPosition(n.matrixWorld),Sa(n)||La(n)?Z.lookAt($e,K,n.up):Z.lookAt(K,$e,n.up),_e(n.quaternion,Ue.setFromRotationMatrix(Z),a,r,t,i,o),s&&(Z.extractRotation(s.matrixWorld),Qe.setFromRotationMatrix(Z),_e(n.quaternion,Ue.copy(n.quaternion).premultiply(Qe.invert()),a,r,t,i,o))}function T(n,e,a,r,t,i,o,s){return d(n,e,n[e]+Aa(n[e],a),r,t,i,o,s)}var ee=new Me,De,Be;function ja(n,e,a,r,t,i,o){return typeof e=="number"?ee.setScalar(e):Array.isArray(e)?ee.set(e[0],e[1]):ee.copy(e),De=d(n,"x",ee.x,a,r,t,i,o),Be=d(n,"y",ee.y,a,r,t,i,o),De||Be}var W=new C,Fe,We,Ve;function Ie(n,e,a,r,t,i,o){return typeof e=="number"?W.setScalar(e):Array.isArray(e)?W.set(e[0],e[1],e[2]):W.copy(e),Fe=d(n,"x",W.x,a,r,t,i,o),We=d(n,"y",W.y,a,r,t,i,o),Ve=d(n,"z",W.z,a,r,t,i,o),Fe||We||Ve}var U=new j,Ye,Xe,Ne,Te;function Qa(n,e,a,r,t,i,o){return typeof e=="number"?U.setScalar(e):Array.isArray(e)?U.set(e[0],e[1],e[2],e[3]):U.copy(e),Ye=d(n,"x",U.x,a,r,t,i,o),Xe=d(n,"y",U.y,a,r,t,i,o),Ne=d(n,"z",U.z,a,r,t,i,o),Te=d(n,"w",U.w,a,r,t,i,o),Ye||Xe||Ne||Te}var ne=new Zn,He,Je,Ke;function Ua(n,e,a,r,t,i,o){return Array.isArray(e)?ne.set(e[0],e[1],e[2],e[3]):ne.copy(e),He=T(n,"x",ne.x,a,r,t,i,o),Je=T(n,"y",ne.y,a,r,t,i,o),Ke=T(n,"z",ne.z,a,r,t,i,o),He||Je||Ke}var V=new me,Ze,en,nn;function Da(n,e,a,r,t,i,o){return e instanceof me?V.copy(e):Array.isArray(e)?V.setRGB(e[0],e[1],e[2]):V.set(e),Ze=d(n,"r",V.r,a,r,t,i,o),en=d(n,"g",V.g,a,r,t,i,o),nn=d(n,"b",V.b,a,r,t,i,o),Ze||en||nn}var x=new q,R=new j,an=new j,ae=new j,rn,tn,on,sn;function _e(n,e,a,r,t,i,o){var s=n;Array.isArray(e)?x.set(e[0],e[1],e[2],e[3]):x.copy(e);var l=n.dot(x)>0?1:-1;return x.x*=l,x.y*=l,x.z*=l,x.w*=l,rn=d(n,"x",x.x,a,r,t,i,o),tn=d(n,"y",x.y,a,r,t,i,o),on=d(n,"z",x.z,a,r,t,i,o),sn=d(n,"w",x.w,a,r,t,i,o),R.set(n.x,n.y,n.z,n.w).normalize(),an.set(s.__damp.velocity_x,s.__damp.velocity_y,s.__damp.velocity_z,s.__damp.velocity_w),ae.copy(R).multiplyScalar(an.dot(R)/R.dot(R)),s.__damp.velocity_x-=ae.x,s.__damp.velocity_y-=ae.y,s.__damp.velocity_z-=ae.z,s.__damp.velocity_w-=ae.w,n.set(R.x,R.y,R.z,R.w),rn||tn||on||sn}var re=new ea,ln,un,cn;function Ba(n,e,a,r,t,i,o){return Array.isArray(e)?re.set(e[0],e[1],e[2]):re.copy(e),ln=d(n,"radius",re.radius,a,r,t,i,o),un=T(n,"phi",re.phi,a,r,t,i,o),cn=T(n,"theta",re.theta,a,r,t,i,o),ln||un||cn}var ye=new Ae,fn=new C,mn=new q,pn=new C,dn,vn,yn;function Fa(n,e,a,r,t,i,o){var s=n;return s.__damp===void 0&&(s.__damp={position:new C,rotation:new q,scale:new C},n.decompose(s.__damp.position,s.__damp.rotation,s.__damp.scale)),Array.isArray(e)?ye.set.apply(ye,wa(e)):ye.copy(e),ye.decompose(fn,mn,pn),dn=Ie(s.__damp.position,fn,a,r,t,i,o),vn=_e(s.__damp.rotation,mn,a,r,t,i,o),yn=Ie(s.__damp.scale,pn,a,r,t,i,o),n.compose(s.__damp.position,s.__damp.rotation,s.__damp.scale),dn||vn||yn}var hn=Object.freeze({__proto__:null,rsqw:Ia,exp:ta,linear:ka,sine:xa,cubic:Oa,quint:za,circ:qa,quart:Pa,expo:Ra,damp:d,dampLookAt:Ga,dampAngle:T,damp2:ja,damp3:Ie,damp4:Qa,dampE:Ua,dampC:Da,dampQ:_e,dampS:Ba,dampM:Fa});const ze=u.createContext(null);function qe(){return u.useContext(ze)}function Wa({eps:n=1e-5,enabled:e=!0,infinite:a,horizontal:r,pages:t=1,distance:i=1,damping:o=.25,maxSpeed:s=1/0,style:l={},children:m}){const{get:h,setEvents:p,gl:w,size:E,invalidate:k,events:y}=pe(),[c]=u.useState(()=>document.createElement("div")),[g]=u.useState(()=>document.createElement("div")),[b]=u.useState(()=>document.createElement("div")),Q=w.domElement.parentNode,z=u.useRef(0),$=u.useMemo(()=>({el:c,eps:n,fill:g,fixed:b,horizontal:r,damping:o,offset:0,delta:0,scroll:z,pages:t,range(M,_,f=0){const A=M-f,P=A+_+f*2;return this.offset<A?0:this.offset>P?1:(this.offset-A)/(P-A)},curve(M,_,f=0){return Math.sin(this.range(M,_,f)*Math.PI)},visible(M,_,f=0){const A=M-f,P=A+_+f*2;return this.offset>=A&&this.offset<=P}}),[n,o,r,t]);u.useEffect(()=>{c.style.position="absolute",c.style.width="100%",c.style.height="100%",c.style[r?"overflowX":"overflowY"]="auto",c.style[r?"overflowY":"overflowX"]="hidden",c.style.top="0px",c.style.left="0px";for(const _ in l)c.style[_]=l[_];b.style.position="sticky",b.style.top="0px",b.style.left="0px",b.style.width="100%",b.style.height="100%",b.style.overflow="hidden",c.appendChild(b),g.style.height=r?"100%":`${t*i*100}%`,g.style.width=r?`${t*i*100}%`:"100%",g.style.pointerEvents="none",c.appendChild(g),Q.appendChild(c),c[r?"scrollLeft":"scrollTop"]=1;const G=y.connected||w.domElement;requestAnimationFrame(()=>y.connect==null?void 0:y.connect(c));const M=h().events.compute;return p({compute(_,f){const{left:A,top:P}=Q.getBoundingClientRect(),de=_.clientX-A,ve=_.clientY-P;f.pointer.set(de/f.size.width*2-1,-(ve/f.size.height)*2+1),f.raycaster.setFromCamera(f.pointer,f.camera)}}),()=>{Q.removeChild(c),p({compute:M}),y.connect==null||y.connect(G)}},[t,i,r,c,g,b,Q]),u.useEffect(()=>{if(y.connected===c){const G=E[r?"width":"height"],M=c[r?"scrollWidth":"scrollHeight"],_=M-G;let f=0,A=!0,P=!0;const de=()=>{if(!(!e||P)&&(k(),f=c[r?"scrollLeft":"scrollTop"],z.current=f/_,a)){if(!A){if(f>=_){const J=1-$.offset;c[r?"scrollLeft":"scrollTop"]=1,z.current=$.offset=-J,A=!0}else if(f<=0){const J=1+$.offset;c[r?"scrollLeft":"scrollTop"]=M,z.current=$.offset=J,A=!0}}A&&setTimeout(()=>A=!1,40)}};c.addEventListener("scroll",de,{passive:!0}),requestAnimationFrame(()=>P=!1);const ve=J=>c.scrollLeft+=J.deltaY/2;return r&&c.addEventListener("wheel",ve,{passive:!0}),()=>{c.removeEventListener("scroll",de),r&&c.removeEventListener("wheel",ve)}}},[c,y,E,a,$,k,r,e]);let F=0;return be((G,M)=>{F=$.offset,hn.damp($,"offset",z.current,o,M,s,void 0,n),hn.damp($,"delta",Math.abs(F-$.offset),o,M,s,void 0,n),$.delta>n&&k()}),u.createElement(ze.Provider,{value:$},m)}const Va=u.forwardRef(({children:n},e)=>{const a=u.useRef(null),r=qe(),{width:t,height:i}=pe(o=>o.viewport);return be(()=>{a.current.position.x=r.horizontal?-t*(r.pages-1)*r.offset:0,a.current.position.y=r.horizontal?0:i*(r.pages-1)*r.offset}),u.createElement("group",{ref:aa([e,a])},n)}),Ya=u.forwardRef(({children:n,style:e,...a},r)=>{const t=qe(),i=u.useRef(null),{width:o,height:s}=pe(h=>h.size),l=u.useContext(Re),m=u.useMemo(()=>da(t.fixed),[t.fixed]);return be(()=>{t.delta>t.eps&&(i.current.style.transform=`translate3d(${t.horizontal?-o*(t.pages-1)*t.offset:0}px,${t.horizontal?0:s*(t.pages-1)*-t.offset}px,0)`)}),m.render(u.createElement("div",B({ref:aa([r,i]),style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},a),u.createElement(ze.Provider,{value:t},u.createElement(Re.Provider,{value:l},n)))),null}),Xa=u.forwardRef(({html:n,...e},a)=>{const r=n?Ya:Va;return u.createElement(r,B({ref:a},e))});function Na(n,e,a,r){const t=class extends la{constructor(o={}){const s=Object.entries(n);super({uniforms:s.reduce((l,[m,h])=>{const p=ua.clone({[m]:{value:h}});return{...l,...p}},{}),vertexShader:e,fragmentShader:a}),this.key="",s.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:m=>this.uniforms[l].value=m})),Object.assign(this,o),r&&r(this)}};return t.key=sa.generateUUID(),t}const _n=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function Pe(n,e){const a=pe(t=>t.gl),r=xe(Oe,_n(n)?Object.values(n):n);if(u.useLayoutEffect(()=>{e==null||e(r)},[e]),u.useEffect(()=>{"initTexture"in a&&(Array.isArray(r)?r:[r]).forEach(a.initTexture)},[a,r]),_n(n)){const t=Object.keys(n),i={};return t.forEach(o=>Object.assign(i,{[o]:r[t.indexOf(o)]})),i}else return r}Pe.preload=n=>xe.preload(Oe,n);Pe.clear=n=>xe.clear(Oe,n);const Ta=Na({color:new me("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0,opacity:1},`
  varying vec2 vUv;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity), grayscale);
    
    #include <tonemapping_fragment>
    #include <${ma>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),oa=u.forwardRef(({children:n,color:e,segments:a=1,scale:r=1,zoom:t=1,grayscale:i=0,opacity:o=1,texture:s,toneMapped:l,transparent:m,...h},p)=>{ca({ImageMaterial:Ta});const w=Array.isArray(r)?[r[0],r[1]]:[r,r],E=[s.image.width,s.image.height];return u.createElement("mesh",B({ref:p,scale:Array.isArray(r)?[...r,1]:r},h),u.createElement("planeGeometry",{args:[1,1,a,a]}),u.createElement("imageMaterial",{color:e,map:s,zoom:t,grayscale:i,opacity:o,scale:w,imageBounds:E,toneMapped:l,transparent:m}),n)}),Ha=u.forwardRef(({url:n,...e},a)=>{const r=Pe(n);return u.createElement(oa,B({},e,{texture:r,ref:a}))}),Ja=u.forwardRef(({url:n,...e},a)=>u.createElement(oa,B({},e,{ref:a}))),Ka=u.forwardRef((n,e)=>{if(n.url)return u.createElement(Ha,B({},n,{ref:e}));if(n.texture)return u.createElement(Ja,B({},n,{ref:e}));throw new Error("<Image /> requires a url or texture")});function Za(n,e,a){return Math.max(e,Math.min(a,n))}function er(n,e){return Za(n-Math.floor(n/e)*e,0,e)}function nr(n,e){var a=er(e-n,Math.PI*2);return a>Math.PI&&(a-=Math.PI*2),a}var ar=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/a)*Math.atan(Math.sin(2*Math.PI*e*t)/a)},ia=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},rr=function(e){return e},tr={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},or={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},ir={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},sr={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},lr={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},ur={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function v(n,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ia,s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-a)<=s)return n[e]=a,!1;r=Math.max(1e-4,r);var m=2/r,h=o(m*t),p=n[e]-a,w=a,E=i*r;p=Math.min(Math.max(p,-E),E),a=n[e]-p;var k=(n.__damp[l]+m*p)*t;n.__damp[l]=(n.__damp[l]-m*k)*h;var y=a+(p+k)*h;return w-n[e]>0==y>w&&(y=w,n.__damp[l]=(y-w)/t),n[e]=y,!0}var cr=function(e){return e&&e.isCamera},fr=function(e){return e&&e.isLight},te=new C,wn=new q,gn=new q,oe=new Ae,Ce=new C;function mr(n,e,a,r,t,i,o){typeof e=="number"?te.setScalar(e):Array.isArray(e)?te.set(e[0],e[1],e[2]):te.copy(e);var s=n.parent;n.updateWorldMatrix(!0,!1),Ce.setFromMatrixPosition(n.matrixWorld),cr(n)||fr(n)?oe.lookAt(Ce,te,n.up):oe.lookAt(te,Ce,n.up),we(n.quaternion,gn.setFromRotationMatrix(oe),a,r,t,i,o),s&&(oe.extractRotation(s.matrixWorld),wn.setFromRotationMatrix(oe),we(n.quaternion,gn.copy(n.quaternion).premultiply(wn.invert()),a,r,t,i,o))}function H(n,e,a,r,t,i,o,s){return v(n,e,n[e]+nr(n[e],a),r,t,i,o,s)}var ie=new Me,Mn,An;function pr(n,e,a,r,t,i,o){return typeof e=="number"?ie.setScalar(e):Array.isArray(e)?ie.set(e[0],e[1]):ie.copy(e),Mn=v(n,"x",ie.x,a,r,t,i,o),An=v(n,"y",ie.y,a,r,t,i,o),Mn||An}var Y=new C,bn,$n,Cn;function ke(n,e,a,r,t,i,o){return typeof e=="number"?Y.setScalar(e):Array.isArray(e)?Y.set(e[0],e[1],e[2]):Y.copy(e),bn=v(n,"x",Y.x,a,r,t,i,o),$n=v(n,"y",Y.y,a,r,t,i,o),Cn=v(n,"z",Y.z,a,r,t,i,o),bn||$n||Cn}var D=new j,En,In,kn,xn;function dr(n,e,a,r,t,i,o){return typeof e=="number"?D.setScalar(e):Array.isArray(e)?D.set(e[0],e[1],e[2],e[3]):D.copy(e),En=v(n,"x",D.x,a,r,t,i,o),In=v(n,"y",D.y,a,r,t,i,o),kn=v(n,"z",D.z,a,r,t,i,o),xn=v(n,"w",D.w,a,r,t,i,o),En||In||kn||xn}var se=new Zn,On,zn,qn;function vr(n,e,a,r,t,i,o){return Array.isArray(e)?se.set(e[0],e[1],e[2],e[3]):se.copy(e),On=H(n,"x",se.x,a,r,t,i,o),zn=H(n,"y",se.y,a,r,t,i,o),qn=H(n,"z",se.z,a,r,t,i,o),On||zn||qn}var X=new me,Pn,Rn,Sn;function yr(n,e,a,r,t,i,o){return e instanceof me?X.copy(e):Array.isArray(e)?X.setRGB(e[0],e[1],e[2]):X.set(e),Pn=v(n,"r",X.r,a,r,t,i,o),Rn=v(n,"g",X.g,a,r,t,i,o),Sn=v(n,"b",X.b,a,r,t,i,o),Pn||Rn||Sn}var O=new q,S=new j,Ln=new j,le=new j,Gn,jn,Qn,Un;function we(n,e,a,r,t,i,o){var s=n;Array.isArray(e)?O.set(e[0],e[1],e[2],e[3]):O.copy(e);var l=n.dot(O)>0?1:-1;return O.x*=l,O.y*=l,O.z*=l,O.w*=l,Gn=v(n,"x",O.x,a,r,t,i,o),jn=v(n,"y",O.y,a,r,t,i,o),Qn=v(n,"z",O.z,a,r,t,i,o),Un=v(n,"w",O.w,a,r,t,i,o),S.set(n.x,n.y,n.z,n.w).normalize(),Ln.set(s.__damp.velocity_x,s.__damp.velocity_y,s.__damp.velocity_z,s.__damp.velocity_w),le.copy(S).multiplyScalar(Ln.dot(S)/S.dot(S)),s.__damp.velocity_x-=le.x,s.__damp.velocity_y-=le.y,s.__damp.velocity_z-=le.z,s.__damp.velocity_w-=le.w,n.set(S.x,S.y,S.z,S.w),Gn||jn||Qn||Un}var ue=new ea,Dn,Bn,Fn;function hr(n,e,a,r,t,i,o){return Array.isArray(e)?ue.set(e[0],e[1],e[2]):ue.copy(e),Dn=v(n,"radius",ue.radius,a,r,t,i,o),Bn=H(n,"phi",ue.phi,a,r,t,i,o),Fn=H(n,"theta",ue.theta,a,r,t,i,o),Dn||Bn||Fn}var he=new Ae,Wn=new C,Vn=new q,Yn=new C,Xn,Nn,Tn;function _r(n,e,a,r,t,i,o){var s=n;return s.__damp===void 0&&(s.__damp={position:new C,rotation:new q,scale:new C},n.decompose(s.__damp.position,s.__damp.rotation,s.__damp.scale)),Array.isArray(e)?he.set.apply(he,pa(e)):he.copy(e),he.decompose(Wn,Vn,Yn),Xn=ke(s.__damp.position,Wn,a,r,t,i,o),Nn=we(s.__damp.rotation,Vn,a,r,t,i,o),Tn=ke(s.__damp.scale,Yn,a,r,t,i,o),n.compose(s.__damp.position,s.__damp.rotation,s.__damp.scale),Xn||Nn||Tn}var N=Object.freeze({__proto__:null,rsqw:ar,exp:ia,linear:rr,sine:tr,cubic:or,quint:ir,circ:sr,quart:lr,expo:ur,damp:v,dampLookAt:mr,dampAngle:H,damp2:pr,damp3:ke,damp4:dr,dampE:vr,dampC:yr,dampQ:we,dampS:hr,dampM:_r});const wr=({index:n,position:e,scale:a,url:r,onTileClick:t,tileGalleryState:i})=>{const o=u.useRef(null),s=qe(),{focusedIndex:l,urls:m}=i,[h,p]=u.useState(!1),w=()=>{t(n,o.current)},E=()=>{p(!0)},k=()=>{p(!1)};return be((y,c)=>{const g=o.current;if(!g)return;const b=g.material,Q=s.curve(n/m.length-1.5/m.length,4/m.length);let z=4,$=4,F=i.focusedImage;if(F){console.log(F);let G=F.material.imageBounds,M=G[0],_=G[1],f;f=_/7.5,z=M/f,$=_/f}N.damp3(g.scale,[l===n?z:a[0],l===n?$:6.5+Q,1],.15,c),b.scale[0]=g.scale.x,b.scale[1]=g.scale.y,l!==null&&n<l&&N.damp(g.position,"x",e[0]-z/2,.15,c),l!==null&&n>l&&N.damp(g.position,"x",e[0]+z/2,.15,c),(l===null||l===n)&&N.damp(g.position,"x",e[0],.15,c),N.damp(b,"grayscale",h||l===n?0:Math.max(0,1-Q),.15,c),N.dampC(b.color,h||l===n?"white":"#aaa",h?.3:.15,c)}),L(Ka,{ref:o,url:r,position:e,scale:[a[0],a[1]],onClick:w,onPointerOver:E,onPointerOut:k})},gr=({w:n=.7,gap:e=.15,onTileClick:a,tileGalleryState:r})=>{const{urls:t}=r,{width:i}=pe(s=>s.viewport),o=n+e;return L(Wa,{horizontal:!0,damping:.1,pages:(i-o+t.length*o)/i,children:L(Xa,{children:t.map((s,l)=>L(wr,{index:l,position:[l*o,0,0],scale:[n,4,1],url:s,onTileClick:a,tileGalleryState:r},l))})})},Mr=na.div`
  ::-webkit-scrollbar {
    display: none;
  }

  -ms-overflow-style: none;
  scrollbar-width: none;
`,ge=({urls:n=["/images/portfolio/avid/AvidIlluminate.png","/images/portfolio/avid/AvidSearchApp.png","/images/portfolio/inmanperkcoffee/gainesville/Chalkboard.png","/images/portfolio/inmanperkcoffee/gainesville/Seating1.png","/images/portfolio/inmanperkcoffee/inmanpark/Rosetta.png","/images/portfolio/inmanperkcoffee/inmanpark/Seating1.png","/images/portfolio/inmanperkcoffee/inmanpark/Seating2.png","/images/portfolio/nexidia/DialogueSearch1.png","/images/portfolio/nexidia/DialogueSearch2.png","/images/portfolio/nexidia/DialogueSearch3.png","/images/portfolio/nexidia/DialogueSearchVideoPlayer.png","/images/portfolio/nexidia/Emmy.png","/images/portfolio/nexidia/Illuminate.png"]})=>{const[e,a]=u.useState({focusedIndex:null,focusedImage:null,urls:n});return L(Mr,{className:"gle-tile-gallery-container",children:L(fa,{gl:{antialias:!1},dpr:[1,1.5],onPointerMissed:()=>{a({...e,focusedIndex:null})},children:L(gr,{tileGalleryState:e,onTileClick:(i,o)=>{e.focusedIndex!==i&&a({...e,focusedIndex:i,focusedImage:o})}})})})};try{ge.displayName="TileGallery",ge.__docgenInfo={description:"",displayName:"TileGallery",props:{urls:{defaultValue:{value:`[
                                    '/images/portfolio/avid/AvidIlluminate.png',
                                    '/images/portfolio/avid/AvidSearchApp.png',
                                    '/images/portfolio/inmanperkcoffee/gainesville/Chalkboard.png',
                                    '/images/portfolio/inmanperkcoffee/gainesville/Seating1.png',
                                    '/images/portfolio/inmanperkcoffee/inmanpark/Rosetta.png',
                                    '/images/portfolio/inmanperkcoffee/inmanpark/Seating1.png',
                                    '/images/portfolio/inmanperkcoffee/inmanpark/Seating2.png',
                                    '/images/portfolio/nexidia/DialogueSearch1.png',
                                    '/images/portfolio/nexidia/DialogueSearch2.png',
                                    '/images/portfolio/nexidia/DialogueSearch3.png',
                                    '/images/portfolio/nexidia/DialogueSearchVideoPlayer.png',
                                    '/images/portfolio/nexidia/Emmy.png',
                                    '/images/portfolio/nexidia/Illuminate.png'
                                ]`},description:"",name:"urls",required:!1,type:{name:"string[]"}}}}}catch{}const Or={component:ge,title:"gle-r3f-components/TileGallery",argTypes:{}},Ar=na.div`
  width: 100vw;
  height: 100vh;
`,ce=n=>L(Ar,{children:L(ge,{urls:n.urls})});ce.args={urls:["./images/inmanperkcoffee/gainesville/Chalkboard.png","./images/inmanperkcoffee/gainesville/Seating1.png","./images/inmanperkcoffee/inmanpark/Rosetta.png","./images/inmanperkcoffee/inmanpark/Seating1.png","./images/inmanperkcoffee/inmanpark/Seating2.png"]};var Hn,Jn,Kn;ce.parameters={...ce.parameters,docs:{...(Hn=ce.parameters)==null?void 0:Hn.docs,source:{originalSource:`(args: TileGalleryProps) => {
  return <TileGalleryContainer>
            <TileGallery urls={args.urls} />
        </TileGalleryContainer>;
}`,...(Kn=(Jn=ce.parameters)==null?void 0:Jn.docs)==null?void 0:Kn.source}}};const zr=["Default"];export{ce as Default,zr as __namedExportsOrder,Or as default};
//# sourceMappingURL=TileGallery.stories-375773a5.js.map
