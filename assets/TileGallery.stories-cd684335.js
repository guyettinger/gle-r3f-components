import{b as An,d as pn,V as C,Q as q,a as $n,f as Q,E as Ze,g as na,c as dn,u as bn,h as Sn,i as On,T as zn,e as sa,s as ea,j as L,C as la}from"./react-three-fiber.esm-af5de61a.js";import{r as u}from"./index-76fb7be0.js";import{m as aa,v as ua,_ as ca}from"./index-0332b2ed.esm-559105d7.js";import{_ as W}from"./extends-98964cd2.js";import{c as fa}from"./client-e770a681.js";import{s as ma}from"./shaderMaterial-6fac7b2a.js";import"./_commonjsHelpers-de833af9.js";function mn(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function In(e,n){(n==null||n>e.length)&&(n=e.length);for(var a=0,r=new Array(n);a<n;a++)r[a]=e[a];return r}function pa(e,n){if(e){if(typeof e=="string")return In(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return In(e,n)}}function da(e){if(Array.isArray(e))return In(e)}function va(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ya(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ha(e){return da(e)||va(e)||pa(e)||ya()}new An;new An;function _a(e,n,a){return Math.max(n,Math.min(a,e))}function wa(e,n){return _a(e-Math.floor(e/n)*n,0,n)}function ga(e,n){var a=wa(n-e,Math.PI*2);return a>Math.PI&&(a-=Math.PI*2),a}function ra(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var I=function e(n,a,r){var t=this;ra(this,e),mn(this,"dot2",function(i,o){return t.x*i+t.y*o}),mn(this,"dot3",function(i,o,s){return t.x*i+t.y*o+t.z*s}),this.x=n,this.y=a,this.z=r},Ma=[new I(1,1,0),new I(-1,1,0),new I(1,-1,0),new I(-1,-1,0),new I(1,0,1),new I(-1,0,1),new I(1,0,-1),new I(-1,0,-1),new I(0,1,1),new I(0,-1,1),new I(0,1,-1),new I(0,-1,-1)],Ln=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Gn=new Array(512),Qn=new Array(512),Aa=function(n){n>0&&n<1&&(n*=65536),n=Math.floor(n),n<256&&(n|=n<<8);for(var a=0;a<256;a++){var r;a&1?r=Ln[a]^n&255:r=Ln[a]^n>>8&255,Gn[a]=Gn[a+256]=r,Qn[a]=Qn[a+256]=Ma[r%12]}};Aa(0);function $a(e){if(typeof e=="number")e=Math.abs(e);else if(typeof e=="string"){var n=e;e=0;for(var a=0;a<n.length;a++)e=(e+(a+1)*(n.charCodeAt(a)%96))%2147483647}return e===0&&(e=311),e}function Bn(e){var n=$a(e);return function(){var a=n*48271%2147483647;return n=a,a/2147483647}}var ba=function e(n){var a=this;ra(this,e),mn(this,"seed",0),mn(this,"init",function(r){a.seed=r,a.value=Bn(r)}),mn(this,"value",Bn(this.seed)),this.init(n)};new ba(Math.random());var Ca=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/a)*Math.atan(Math.sin(2*Math.PI*n*t)/a)},ta=function(n){return 1/(1+n+.48*n*n+.235*n*n*n)},Ea=function(n){return n},Ia={in:function(n){return 1-Math.cos(n*Math.PI/2)},out:function(n){return Math.sin(n*Math.PI/2)},inOut:function(n){return-(Math.cos(Math.PI*n)-1)/2}},ka={in:function(n){return n*n*n},out:function(n){return 1-Math.pow(1-n,3)},inOut:function(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}},xa={in:function(n){return n*n*n*n*n},out:function(n){return 1-Math.pow(1-n,5)},inOut:function(n){return n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2}},Oa={in:function(n){return 1-Math.sqrt(1-Math.pow(n,2))},out:function(n){return Math.sqrt(1-Math.pow(n-1,2))},inOut:function(n){return n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2}},za={in:function(n){return n*n*n*n},out:function(n){return 1- --n*n*n*n},inOut:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n}},qa={in:function(n){return n===0?0:Math.pow(2,10*n-10)},out:function(n){return n===1?1:1-Math.pow(2,-10*n)},inOut:function(n){return n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2}};function p(e,n,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ta,s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+n;if(e.__damp===void 0&&(e.__damp={}),e.__damp[l]===void 0&&(e.__damp[l]=0),Math.abs(e[n]-a)<=s)return e[n]=a,!1;r=Math.max(1e-4,r);var y=2/r,w=o(y*t),m=e[n]-a,_=a,E=i*r;m=Math.min(Math.max(m,-E),E),a=e[n]-m;var k=(e.__damp[l]+y*m)*t;e.__damp[l]=(e.__damp[l]-y*k)*w;var v=a+(m+k)*w;return _-e[n]>0==v>_&&(v=_,e.__damp[l]=(v-_)/t),e[n]=v,!0}var Pa=function(n){return n&&n.isCamera},Ra=function(n){return n&&n.isLight},K=new C,Dn=new q,Fn=new q,Z=new $n,Cn=new C;function Sa(e,n,a,r,t,i,o){typeof n=="number"?K.setScalar(n):Array.isArray(n)?K.set(n[0],n[1],n[2]):K.copy(n);var s=e.parent;e.updateWorldMatrix(!0,!1),Cn.setFromMatrixPosition(e.matrixWorld),Pa(e)||Ra(e)?Z.lookAt(Cn,K,e.up):Z.lookAt(K,Cn,e.up),wn(e.quaternion,Fn.setFromRotationMatrix(Z),a,r,t,i,o),s&&(Z.extractRotation(s.matrixWorld),Dn.setFromRotationMatrix(Z),wn(e.quaternion,Fn.copy(e.quaternion).premultiply(Dn.invert()),a,r,t,i,o))}function T(e,n,a,r,t,i,o,s){return p(e,n,e[n]+ga(e[n],a),r,t,i,o,s)}var nn=new An,Wn,jn;function La(e,n,a,r,t,i,o){return typeof n=="number"?nn.setScalar(n):Array.isArray(n)?nn.set(n[0],n[1]):nn.copy(n),Wn=p(e,"x",nn.x,a,r,t,i,o),jn=p(e,"y",nn.y,a,r,t,i,o),Wn||jn}var U=new C,Un,Vn,Yn;function kn(e,n,a,r,t,i,o){return typeof n=="number"?U.setScalar(n):Array.isArray(n)?U.set(n[0],n[1],n[2]):U.copy(n),Un=p(e,"x",U.x,a,r,t,i,o),Vn=p(e,"y",U.y,a,r,t,i,o),Yn=p(e,"z",U.z,a,r,t,i,o),Un||Vn||Yn}var D=new Q,Xn,Nn,Tn,Hn;function Ga(e,n,a,r,t,i,o){return typeof n=="number"?D.setScalar(n):Array.isArray(n)?D.set(n[0],n[1],n[2],n[3]):D.copy(n),Xn=p(e,"x",D.x,a,r,t,i,o),Nn=p(e,"y",D.y,a,r,t,i,o),Tn=p(e,"z",D.z,a,r,t,i,o),Hn=p(e,"w",D.w,a,r,t,i,o),Xn||Nn||Tn||Hn}var en=new Ze,Jn,Kn,Zn;function Qa(e,n,a,r,t,i,o){return Array.isArray(n)?en.set(n[0],n[1],n[2],n[3]):en.copy(n),Jn=T(e,"x",en.x,a,r,t,i,o),Kn=T(e,"y",en.y,a,r,t,i,o),Zn=T(e,"z",en.z,a,r,t,i,o),Jn||Kn||Zn}var V=new pn,ne,ee,ae;function Ba(e,n,a,r,t,i,o){return n instanceof pn?V.copy(n):Array.isArray(n)?V.setRGB(n[0],n[1],n[2]):V.set(n),ne=p(e,"r",V.r,a,r,t,i,o),ee=p(e,"g",V.g,a,r,t,i,o),ae=p(e,"b",V.b,a,r,t,i,o),ne||ee||ae}var x=new q,R=new Q,re=new Q,an=new Q,te,oe,ie,se;function wn(e,n,a,r,t,i,o){var s=e;Array.isArray(n)?x.set(n[0],n[1],n[2],n[3]):x.copy(n);var l=e.dot(x)>0?1:-1;return x.x*=l,x.y*=l,x.z*=l,x.w*=l,te=p(e,"x",x.x,a,r,t,i,o),oe=p(e,"y",x.y,a,r,t,i,o),ie=p(e,"z",x.z,a,r,t,i,o),se=p(e,"w",x.w,a,r,t,i,o),R.set(e.x,e.y,e.z,e.w).normalize(),re.set(s.__damp.velocity_x,s.__damp.velocity_y,s.__damp.velocity_z,s.__damp.velocity_w),an.copy(R).multiplyScalar(re.dot(R)/R.dot(R)),s.__damp.velocity_x-=an.x,s.__damp.velocity_y-=an.y,s.__damp.velocity_z-=an.z,s.__damp.velocity_w-=an.w,e.set(R.x,R.y,R.z,R.w),te||oe||ie||se}var rn=new na,le,ue,ce;function Da(e,n,a,r,t,i,o){return Array.isArray(n)?rn.set(n[0],n[1],n[2]):rn.copy(n),le=p(e,"radius",rn.radius,a,r,t,i,o),ue=T(e,"phi",rn.phi,a,r,t,i,o),ce=T(e,"theta",rn.theta,a,r,t,i,o),le||ue||ce}var hn=new $n,fe=new C,me=new q,pe=new C,de,ve,ye;function Fa(e,n,a,r,t,i,o){var s=e;return s.__damp===void 0&&(s.__damp={position:new C,rotation:new q,scale:new C},e.decompose(s.__damp.position,s.__damp.rotation,s.__damp.scale)),Array.isArray(n)?hn.set.apply(hn,ha(n)):hn.copy(n),hn.decompose(fe,me,pe),de=kn(s.__damp.position,fe,a,r,t,i,o),ve=wn(s.__damp.rotation,me,a,r,t,i,o),ye=kn(s.__damp.scale,pe,a,r,t,i,o),e.compose(s.__damp.position,s.__damp.rotation,s.__damp.scale),de||ve||ye}var he=Object.freeze({__proto__:null,rsqw:Ca,exp:ta,linear:Ea,sine:Ia,cubic:ka,quint:xa,circ:Oa,quart:za,expo:qa,damp:p,dampLookAt:Sa,dampAngle:T,damp2:La,damp3:kn,damp4:Ga,dampE:Qa,dampC:Ba,dampQ:wn,dampS:Da,dampM:Fa});const qn=u.createContext(null);function Pn(){return u.useContext(qn)}function Wa({eps:e=1e-5,enabled:n=!0,infinite:a,horizontal:r,pages:t=1,distance:i=1,damping:o=.25,maxSpeed:s=1/0,style:l={},children:y}){const{get:w,setEvents:m,gl:_,size:E,invalidate:k,events:v}=dn(),[c]=u.useState(()=>document.createElement("div")),[g]=u.useState(()=>document.createElement("div")),[$]=u.useState(()=>document.createElement("div")),B=_.domElement.parentNode,z=u.useRef(0),b=u.useMemo(()=>({el:c,eps:e,fill:g,fixed:$,horizontal:r,damping:o,offset:0,delta:0,scroll:z,pages:t,range(M,h,f=0){const A=M-f,P=A+h+f*2;return this.offset<A?0:this.offset>P?1:(this.offset-A)/(P-A)},curve(M,h,f=0){return Math.sin(this.range(M,h,f)*Math.PI)},visible(M,h,f=0){const A=M-f,P=A+h+f*2;return this.offset>=A&&this.offset<=P}}),[e,o,r,t]);u.useEffect(()=>{c.style.position="absolute",c.style.width="100%",c.style.height="100%",c.style[r?"overflowX":"overflowY"]="auto",c.style[r?"overflowY":"overflowX"]="hidden",c.style.top="0px",c.style.left="0px";for(const h in l)c.style[h]=l[h];$.style.position="sticky",$.style.top="0px",$.style.left="0px",$.style.width="100%",$.style.height="100%",$.style.overflow="hidden",c.appendChild($),g.style.height=r?"100%":`${t*i*100}%`,g.style.width=r?`${t*i*100}%`:"100%",g.style.pointerEvents="none",c.appendChild(g),B.appendChild(c),c[r?"scrollLeft":"scrollTop"]=1;const G=v.connected||_.domElement;requestAnimationFrame(()=>v.connect==null?void 0:v.connect(c));const M=w().events.compute;return m({compute(h,f){const{left:A,top:P}=B.getBoundingClientRect(),vn=h.clientX-A,yn=h.clientY-P;f.pointer.set(vn/f.size.width*2-1,-(yn/f.size.height)*2+1),f.raycaster.setFromCamera(f.pointer,f.camera)}}),()=>{B.removeChild(c),m({compute:M}),v.connect==null||v.connect(G)}},[t,i,r,c,g,$,B]),u.useEffect(()=>{if(v.connected===c){const G=E[r?"width":"height"],M=c[r?"scrollWidth":"scrollHeight"],h=M-G;let f=0,A=!0,P=!0;const vn=()=>{if(!(!n||P)&&(k(),f=c[r?"scrollLeft":"scrollTop"],z.current=f/h,a)){if(!A){if(f>=h){const J=1-b.offset;c[r?"scrollLeft":"scrollTop"]=1,z.current=b.offset=-J,A=!0}else if(f<=0){const J=1+b.offset;c[r?"scrollLeft":"scrollTop"]=M,z.current=b.offset=J,A=!0}}A&&setTimeout(()=>A=!1,40)}};c.addEventListener("scroll",vn,{passive:!0}),requestAnimationFrame(()=>P=!1);const yn=J=>c.scrollLeft+=J.deltaY/2;return r&&c.addEventListener("wheel",yn,{passive:!0}),()=>{c.removeEventListener("scroll",vn),r&&c.removeEventListener("wheel",yn)}}},[c,v,E,a,b,k,r,n]);let j=0;return bn((G,M)=>{j=b.offset,he.damp(b,"offset",z.current,o,M,s,void 0,e),he.damp(b,"delta",Math.abs(j-b.offset),o,M,s,void 0,e),b.delta>e&&k()}),u.createElement(qn.Provider,{value:b},y)}const ja=u.forwardRef(({children:e},n)=>{const a=u.useRef(null),r=Pn(),{width:t,height:i}=dn(o=>o.viewport);return bn(()=>{a.current.position.x=r.horizontal?-t*(r.pages-1)*r.offset:0,a.current.position.y=r.horizontal?0:i*(r.pages-1)*r.offset}),u.createElement("group",{ref:aa([n,a])},e)}),Ua=u.forwardRef(({children:e,style:n,...a},r)=>{const t=Pn(),i=u.useRef(null),{width:o,height:s}=dn(w=>w.size),l=u.useContext(Sn),y=u.useMemo(()=>fa(t.fixed),[t.fixed]);return bn(()=>{t.delta>t.eps&&(i.current.style.transform=`translate3d(${t.horizontal?-o*(t.pages-1)*t.offset:0}px,${t.horizontal?0:s*(t.pages-1)*-t.offset}px,0)`)}),y.render(u.createElement("div",W({ref:aa([r,i]),style:{...n,position:"absolute",top:0,left:0,willChange:"transform"}},a),u.createElement(qn.Provider,{value:t},u.createElement(Sn.Provider,{value:l},e)))),null}),Va=u.forwardRef(({html:e,...n},a)=>{const r=e?Ua:ja;return u.createElement(r,W({ref:a},n))}),_e=e=>e===Object(e)&&!Array.isArray(e)&&typeof e!="function";function Rn(e,n){const a=dn(t=>t.gl),r=On(zn,_e(e)?Object.values(e):e);if(u.useLayoutEffect(()=>{n==null||n(r)},[n]),u.useEffect(()=>{"initTexture"in a&&(Array.isArray(r)?r:[r]).forEach(a.initTexture)},[a,r]),_e(e)){const t=Object.keys(e),i={};return t.forEach(o=>Object.assign(i,{[o]:r[t.indexOf(o)]})),i}else return r}Rn.preload=e=>On.preload(zn,e);Rn.clear=e=>On.clear(zn,e);const Ya=ma({color:new pn("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0,opacity:1},`
  varying vec2 vUv;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity), grayscale);
    
    #include <tonemapping_fragment>
    #include <${ua>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),oa=u.forwardRef(({children:e,color:n,segments:a=1,scale:r=1,zoom:t=1,grayscale:i=0,opacity:o=1,texture:s,toneMapped:l,transparent:y,...w},m)=>{sa({ImageMaterial:Ya});const _=Array.isArray(r)?[r[0],r[1]]:[r,r],E=[s.image.width,s.image.height];return u.createElement("mesh",W({ref:m,scale:Array.isArray(r)?[...r,1]:r},w),u.createElement("planeGeometry",{args:[1,1,a,a]}),u.createElement("imageMaterial",{color:n,map:s,zoom:t,grayscale:i,opacity:o,scale:_,imageBounds:E,toneMapped:l,transparent:y}),e)}),Xa=u.forwardRef(({url:e,...n},a)=>{const r=Rn(e);return u.createElement(oa,W({},n,{texture:r,ref:a}))}),Na=u.forwardRef(({url:e,...n},a)=>u.createElement(oa,W({},n,{ref:a}))),Ta=u.forwardRef((e,n)=>{if(e.url)return u.createElement(Xa,W({},e,{ref:n}));if(e.texture)return u.createElement(Na,W({},e,{ref:n}));throw new Error("<Image /> requires a url or texture")});function Ha(e,n,a){return Math.max(n,Math.min(a,e))}function Ja(e,n){return Ha(e-Math.floor(e/n)*n,0,n)}function Ka(e,n){var a=Ja(n-e,Math.PI*2);return a>Math.PI&&(a-=Math.PI*2),a}var Za=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/a)*Math.atan(Math.sin(2*Math.PI*n*t)/a)},ia=function(n){return 1/(1+n+.48*n*n+.235*n*n*n)},nr=function(n){return n},er={in:function(n){return 1-Math.cos(n*Math.PI/2)},out:function(n){return Math.sin(n*Math.PI/2)},inOut:function(n){return-(Math.cos(Math.PI*n)-1)/2}},ar={in:function(n){return n*n*n},out:function(n){return 1-Math.pow(1-n,3)},inOut:function(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}},rr={in:function(n){return n*n*n*n*n},out:function(n){return 1-Math.pow(1-n,5)},inOut:function(n){return n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2}},tr={in:function(n){return 1-Math.sqrt(1-Math.pow(n,2))},out:function(n){return Math.sqrt(1-Math.pow(n-1,2))},inOut:function(n){return n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2}},or={in:function(n){return n*n*n*n},out:function(n){return 1- --n*n*n*n},inOut:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n}},ir={in:function(n){return n===0?0:Math.pow(2,10*n-10)},out:function(n){return n===1?1:1-Math.pow(2,-10*n)},inOut:function(n){return n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2}};function d(e,n,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ia,s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+n;if(e.__damp===void 0&&(e.__damp={}),e.__damp[l]===void 0&&(e.__damp[l]=0),Math.abs(e[n]-a)<=s)return e[n]=a,!1;r=Math.max(1e-4,r);var y=2/r,w=o(y*t),m=e[n]-a,_=a,E=i*r;m=Math.min(Math.max(m,-E),E),a=e[n]-m;var k=(e.__damp[l]+y*m)*t;e.__damp[l]=(e.__damp[l]-y*k)*w;var v=a+(m+k)*w;return _-e[n]>0==v>_&&(v=_,e.__damp[l]=(v-_)/t),e[n]=v,!0}var sr=function(n){return n&&n.isCamera},lr=function(n){return n&&n.isLight},tn=new C,we=new q,ge=new q,on=new $n,En=new C;function ur(e,n,a,r,t,i,o){typeof n=="number"?tn.setScalar(n):Array.isArray(n)?tn.set(n[0],n[1],n[2]):tn.copy(n);var s=e.parent;e.updateWorldMatrix(!0,!1),En.setFromMatrixPosition(e.matrixWorld),sr(e)||lr(e)?on.lookAt(En,tn,e.up):on.lookAt(tn,En,e.up),gn(e.quaternion,ge.setFromRotationMatrix(on),a,r,t,i,o),s&&(on.extractRotation(s.matrixWorld),we.setFromRotationMatrix(on),gn(e.quaternion,ge.copy(e.quaternion).premultiply(we.invert()),a,r,t,i,o))}function H(e,n,a,r,t,i,o,s){return d(e,n,e[n]+Ka(e[n],a),r,t,i,o,s)}var sn=new An,Me,Ae;function cr(e,n,a,r,t,i,o){return typeof n=="number"?sn.setScalar(n):Array.isArray(n)?sn.set(n[0],n[1]):sn.copy(n),Me=d(e,"x",sn.x,a,r,t,i,o),Ae=d(e,"y",sn.y,a,r,t,i,o),Me||Ae}var Y=new C,$e,be,Ce;function xn(e,n,a,r,t,i,o){return typeof n=="number"?Y.setScalar(n):Array.isArray(n)?Y.set(n[0],n[1],n[2]):Y.copy(n),$e=d(e,"x",Y.x,a,r,t,i,o),be=d(e,"y",Y.y,a,r,t,i,o),Ce=d(e,"z",Y.z,a,r,t,i,o),$e||be||Ce}var F=new Q,Ee,Ie,ke,xe;function fr(e,n,a,r,t,i,o){return typeof n=="number"?F.setScalar(n):Array.isArray(n)?F.set(n[0],n[1],n[2],n[3]):F.copy(n),Ee=d(e,"x",F.x,a,r,t,i,o),Ie=d(e,"y",F.y,a,r,t,i,o),ke=d(e,"z",F.z,a,r,t,i,o),xe=d(e,"w",F.w,a,r,t,i,o),Ee||Ie||ke||xe}var ln=new Ze,Oe,ze,qe;function mr(e,n,a,r,t,i,o){return Array.isArray(n)?ln.set(n[0],n[1],n[2],n[3]):ln.copy(n),Oe=H(e,"x",ln.x,a,r,t,i,o),ze=H(e,"y",ln.y,a,r,t,i,o),qe=H(e,"z",ln.z,a,r,t,i,o),Oe||ze||qe}var X=new pn,Pe,Re,Se;function pr(e,n,a,r,t,i,o){return n instanceof pn?X.copy(n):Array.isArray(n)?X.setRGB(n[0],n[1],n[2]):X.set(n),Pe=d(e,"r",X.r,a,r,t,i,o),Re=d(e,"g",X.g,a,r,t,i,o),Se=d(e,"b",X.b,a,r,t,i,o),Pe||Re||Se}var O=new q,S=new Q,Le=new Q,un=new Q,Ge,Qe,Be,De;function gn(e,n,a,r,t,i,o){var s=e;Array.isArray(n)?O.set(n[0],n[1],n[2],n[3]):O.copy(n);var l=e.dot(O)>0?1:-1;return O.x*=l,O.y*=l,O.z*=l,O.w*=l,Ge=d(e,"x",O.x,a,r,t,i,o),Qe=d(e,"y",O.y,a,r,t,i,o),Be=d(e,"z",O.z,a,r,t,i,o),De=d(e,"w",O.w,a,r,t,i,o),S.set(e.x,e.y,e.z,e.w).normalize(),Le.set(s.__damp.velocity_x,s.__damp.velocity_y,s.__damp.velocity_z,s.__damp.velocity_w),un.copy(S).multiplyScalar(Le.dot(S)/S.dot(S)),s.__damp.velocity_x-=un.x,s.__damp.velocity_y-=un.y,s.__damp.velocity_z-=un.z,s.__damp.velocity_w-=un.w,e.set(S.x,S.y,S.z,S.w),Ge||Qe||Be||De}var cn=new na,Fe,We,je;function dr(e,n,a,r,t,i,o){return Array.isArray(n)?cn.set(n[0],n[1],n[2]):cn.copy(n),Fe=d(e,"radius",cn.radius,a,r,t,i,o),We=H(e,"phi",cn.phi,a,r,t,i,o),je=H(e,"theta",cn.theta,a,r,t,i,o),Fe||We||je}var _n=new $n,Ue=new C,Ve=new q,Ye=new C,Xe,Ne,Te;function vr(e,n,a,r,t,i,o){var s=e;return s.__damp===void 0&&(s.__damp={position:new C,rotation:new q,scale:new C},e.decompose(s.__damp.position,s.__damp.rotation,s.__damp.scale)),Array.isArray(n)?_n.set.apply(_n,ca(n)):_n.copy(n),_n.decompose(Ue,Ve,Ye),Xe=xn(s.__damp.position,Ue,a,r,t,i,o),Ne=gn(s.__damp.rotation,Ve,a,r,t,i,o),Te=xn(s.__damp.scale,Ye,a,r,t,i,o),e.compose(s.__damp.position,s.__damp.rotation,s.__damp.scale),Xe||Ne||Te}var N=Object.freeze({__proto__:null,rsqw:Za,exp:ia,linear:nr,sine:er,cubic:ar,quint:rr,circ:tr,quart:or,expo:ir,damp:d,dampLookAt:ur,dampAngle:H,damp2:cr,damp3:xn,damp4:fr,dampE:mr,dampC:pr,dampQ:gn,dampS:dr,dampM:vr});const yr=({index:e,position:n,scale:a,url:r,onTileClick:t,tileGalleryState:i})=>{const o=u.useRef(null),s=Pn(),{focusedIndex:l,urls:y}=i,[w,m]=u.useState(!1),_=()=>{t(e,o.current)},E=()=>{m(!0)},k=()=>{m(!1)};return bn((v,c)=>{const g=o.current;if(!g)return;const $=g.material,B=s.curve(e/y.length-1.5/y.length,4/y.length);let z=4,b=4,j=i.focusedImage;if(j){console.log(j);let G=j.material.imageBounds,M=G[0],h=G[1],f;f=h/7.5,z=M/f,b=h/f}N.damp3(g.scale,[l===e?z:a[0],l===e?b:6.5+B,1],.15,c),$.scale[0]=g.scale.x,$.scale[1]=g.scale.y,l!==null&&e<l&&N.damp(g.position,"x",n[0]-z/2,.15,c),l!==null&&e>l&&N.damp(g.position,"x",n[0]+z/2,.15,c),(l===null||l===e)&&N.damp(g.position,"x",n[0],.15,c),N.damp($,"grayscale",w||l===e?0:Math.max(0,1-B),.15,c),N.dampC($.color,w||l===e?"white":"#aaa",w?.3:.15,c)}),L(Ta,{ref:o,url:r,position:n,scale:[a[0],a[1]],onClick:_,onPointerOver:E,onPointerOut:k})},hr=({w:e=.7,gap:n=.15,onTileClick:a,tileGalleryState:r})=>{const{urls:t}=r,{width:i}=dn(s=>s.viewport),o=e+n;return L(Wa,{horizontal:!0,damping:.1,pages:(i-o+t.length*o)/i,children:L(Va,{children:t.map((s,l)=>L(yr,{index:l,position:[l*o,0,0],scale:[e,4,1],url:s,onTileClick:a,tileGalleryState:r},l))})})},_r=ea.div`
  ::-webkit-scrollbar {
    display: none;
  }

  -ms-overflow-style: none;
  scrollbar-width: none;
`,Mn=({urls:e=["/images/portfolio/avid/AvidIlluminate.png","/images/portfolio/avid/AvidSearchApp.png","/images/portfolio/inmanperkcoffee/gainesville/Chalkboard.png","/images/portfolio/inmanperkcoffee/gainesville/Seating1.png","/images/portfolio/inmanperkcoffee/inmanpark/Rosetta.png","/images/portfolio/inmanperkcoffee/inmanpark/Seating1.png","/images/portfolio/inmanperkcoffee/inmanpark/Seating2.png","/images/portfolio/nexidia/DialogueSearch1.png","/images/portfolio/nexidia/DialogueSearch2.png","/images/portfolio/nexidia/DialogueSearch3.png","/images/portfolio/nexidia/DialogueSearchVideoPlayer.png","/images/portfolio/nexidia/Emmy.png","/images/portfolio/nexidia/Illuminate.png"]})=>{const[n,a]=u.useState({focusedIndex:null,focusedImage:null,urls:e});return L(_r,{className:"gle-tile-gallery-container",children:L(la,{gl:{antialias:!1},dpr:[1,1.5],onPointerMissed:()=>{a({...n,focusedIndex:null})},children:L(hr,{tileGalleryState:n,onTileClick:(i,o)=>{n.focusedIndex!==i&&a({...n,focusedIndex:i,focusedImage:o})}})})})};try{Mn.displayName="TileGallery",Mn.__docgenInfo={description:"",displayName:"TileGallery",props:{urls:{defaultValue:{value:`[
                                    '/images/portfolio/avid/AvidIlluminate.png',
                                    '/images/portfolio/avid/AvidSearchApp.png',
                                    '/images/portfolio/inmanperkcoffee/gainesville/Chalkboard.png',
                                    '/images/portfolio/inmanperkcoffee/gainesville/Seating1.png',
                                    '/images/portfolio/inmanperkcoffee/inmanpark/Rosetta.png',
                                    '/images/portfolio/inmanperkcoffee/inmanpark/Seating1.png',
                                    '/images/portfolio/inmanperkcoffee/inmanpark/Seating2.png',
                                    '/images/portfolio/nexidia/DialogueSearch1.png',
                                    '/images/portfolio/nexidia/DialogueSearch2.png',
                                    '/images/portfolio/nexidia/DialogueSearch3.png',
                                    '/images/portfolio/nexidia/DialogueSearchVideoPlayer.png',
                                    '/images/portfolio/nexidia/Emmy.png',
                                    '/images/portfolio/nexidia/Illuminate.png'
                                ]`},description:"",name:"urls",required:!1,type:{name:"string[]"}}}}}catch{}const Ir={component:Mn,title:"gle-r3f-components/TileGallery",argTypes:{}},wr=ea.div`
  width: 100vw;
  height: 100vh;
`,fn=e=>L(wr,{children:L(Mn,{urls:e.urls})});fn.args={urls:["./images/inmanperkcoffee/gainesville/Chalkboard.png","./images/inmanperkcoffee/gainesville/Seating1.png","./images/inmanperkcoffee/inmanpark/Rosetta.png","./images/inmanperkcoffee/inmanpark/Seating1.png","./images/inmanperkcoffee/inmanpark/Seating2.png"]};var He,Je,Ke;fn.parameters={...fn.parameters,docs:{...(He=fn.parameters)==null?void 0:He.docs,source:{originalSource:`(args: TileGalleryProps) => {
  return <TileGalleryContainer>
            <TileGallery urls={args.urls} />
        </TileGalleryContainer>;
}`,...(Ke=(Je=fn.parameters)==null?void 0:Je.docs)==null?void 0:Ke.source}}};const kr=["Default"];export{fn as Default,kr as __namedExportsOrder,Ir as default};
//# sourceMappingURL=TileGallery.stories-cd684335.js.map
